<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>images with white space alt and aria-labels</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../-assets/shared.css">
    <style>
      .test__info__results li {
        padding: .3em;
        margin-bottom: 2px;
      }

      .test__info__results li::marker {
        color: #000;
      }

      .test__info__results .fail {
        background-color: darkred;
        color: #fff;
      }

      .test__info__results .pass {
        background-color: green;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <div id="app">
      <header>
        <h1>
          Testing images with white space <code>alt</code> and <code>aria-label</code>s
        </h1>
        <div class="dates">
          <p>Published: <span>August 30, 2019</span></p>
          <!-- <p>Last Updated: <span>..., 2019</span></p> -->
        </div>
        <p>
          Expectation:
        </p>
        <ul>
          <li>
            Images with <code>alt=" "</code>, <code>alt=""</code> or <code>alt</code> should receive no accessible name from the attribute.
          </li>
          <li>
            Images with <code>aria-label=""</code> or <code>aria-label=" "</code> should receive no accessible name from the attribute.
          </li>
          <li>
            Receiving no accessible name from <code>alt</code> or <code>aria-label</code>, <strong>all images should receive their accessible name from their <code>title</code> attribute.</strong>
          </li>
        </ul>
        <p>
          Results were verified by checking each image's exposed name in the accessibility tree on macOS and PC. iOS and Android were checked by using VoiceOver and TalkBack respectively.
        </p>
      </header>


      <div class="test">
        <h2>Image with only <code>title</code> attribute</h2>
        <div class="test__case">
<img src="https://placekitten.com/219/219"
width="200" height="200" title="title">
        </div>
        <div class="test__info">
          <div class="test__info__results">
            <details open>
              <summary>results</summary>
              <div>
                <p>Image should have name of "title".</p>
                <ul>
                  <!-- Windows -->
                  <li class="pass"><strong>Chrome:</strong> pass.</li>
                  <li class="pass"><strong>Firefox:</strong> pass.</li>

                  <!-- macOS/iOS -->
                  <li class="pass"><strong>macOS Safari:</strong> pass.</li>
                  <li class="pass"><strong>macOS Chrome:</strong> pass.</li>
                  <li class="pass"><strong>iOS Safari:</strong> pass.</li>

                  <!-- Android -->
                  <li class="pass"><strong>Android Chrome:</strong> pass.</li>
                  <li class="pass"><strong>Android Firefox:</strong> pass.</li>
                </ul>
              </div>
            </details>
          </div>
        </div>
      </div>


      <div class="test">
        <h2><code>alt</code> with empty string</h2>
        <div class="test__case">
<img src="https://placekitten.com/200/200"
width="200" height="200" alt=""  title="title 1">
        </div>
        <div class="test__info">
          <div class="test__info__results">
            <details open>
              <summary>results</summary>
              <div>
                <p>Image should have name of "title 1".</p>
                <ul>
                  <!-- Windows -->
                  <li class="fail"><strong>Chrome:</strong> fail. Ignored. (ignored by JAWS and NVDA).</li>
                  <li class="pass"><strong>Firefox:</strong> pass.</li>

                  <!-- macOS/iOS -->
                  <li class="fail"><strong>macOS Safari:</strong> fail. Ignored.</li>
                  <li class="pass"><strong>macOS Chrome:</strong> pass.</li>
                  <li class="fail"><strong>iOS Safari:</strong> fail. Ignored.</li>

                  <!-- Android -->
                  <li class="fail"><strong>Android Chrome:</strong> fail. Ignored by TalkBack.</li>
                  <li class="pass"><strong>Android Firefox:</strong> pass.</li>
                </ul>
              </div>
            </details>
          </div>
        </div>
      </div>


      <div class="test">
        <h2><code>alt</code> with single whitespace</h2>
        <div class="test__case">
<img src="https://placekitten.com/201/201"
width="200" height="200" alt=" "  title="title 2">
        </div>
        <div class="test__info">
          <div class="test__info__results">
            <details open>
              <summary>results</summary>
              <div>
                <p>Image should have name of "title 2".</p>
                <ul>
                  <!-- Windows -->
                  <li class="fail"><strong>Chrome:</strong> fail. Named by whitespace. (ignored by JAWS)</li>
                  <li class="fail"><strong>Firefox:</strong> fail. Named by whitespace. (ignored by JAWS)</li>

                  <!-- macOS/iOS -->
                  <li class="fail"><strong>macOS Safari:</strong> fail. Ignored.</li>
                  <li class="fail"><strong>macOS Chrome:</strong> fail. Named by whitespace.</li>
                  <li class="fail"><strong>iOS Safari:</strong> fail. Ignored.</li>

                  <!-- Android -->
                  <li class="fail"><strong>Android Chrome:</strong> fail. Ignored by TalkBack.</li>
                  <li class="fail"><strong>Android Firefox:</strong> fail. Named by whitespace.</li>
                </ul>
              </div>
            </details>
          </div>
        </div>
      </div>

      <div class="test">
        <h2><code>alt</code> with multiple whitespace characters</h2>
        <div class="test__case">
<img src="https://placekitten.com/210/210"
width="200" height="200" alt="    "  title="title 3">
        </div>
        <div class="test__info">
          <div class="test__info__results">
            <details open>
              <summary>results</summary>
              <div>
                <p>Image should have name of "title 3".</p>
                <ul>
                  <!-- Windows -->
                  <li class="fail"><strong>Chrome:</strong> fail. Named by whitespace. (ignored by JAWS)</li>
                  <li class="fail"><strong>Firefox:</strong> fail. Named by whitespace. (ignored by JAWS)</li>

                  <!-- macOS/iOS -->
                  <li class="fail"><strong>macOS Safari:</strong> fail. Ignored.</li>
                  <li class="fail"><strong>macOS Chrome:</strong> fail. Named by whitespace.</li>
                  <li class="fail"><strong>iOS Safari:</strong> ignored.</li>

                  <!-- Android -->
                  <li class="fail"><strong>Android Chrome:</strong> fail. Ignored by TalkBack.</li>
                  <li class="fail"><strong>Android Firefox:</strong> fail. Named by whitespace.</li>
                </ul>
              </div>
            </details>
          </div>
        </div>
      </div>


       <div class="test">
        <h2>No <code>alt</code>, but <code>aria-label</code> with whitespace character</h2>
        <div class="test__case">
<img src="https://placekitten.com/220/220"
width="200" height="200" aria-label=" "  title="title 4">
        </div>
        <div class="test__info">
          <div class="test__info__results">
            <details open>
              <summary>results</summary>
              <div>
                <p>Image should have name of "title 4".</p>
                <ul>
                  <!-- Windows -->
                  <li class="fail"><strong>Chrome:</strong> fail. Named by whitespace. (ignored by JAWS)</li>
                  <li class="pass"><strong>Firefox:</strong> pass.</li>

                  <!-- macOS/iOS -->
                  <li class="fail"><strong>macOS Safari:</strong> fail. Named by whitespace. VoiceOver announces name as "space".</li>
                  <li class="fail"><strong>macOS Chrome:</strong> fail. Named by whitespace.</li>
                  <li class="pass"><strong>iOS Safari:</strong> pass.</li>

                  <!-- Android -->
                  <li class="fail"><strong>Android Chrome:</strong> fail. Ignored by TalkBack.</li>
                  <li class="pass"><strong>Android Firefox:</strong> pass.</li>
                </ul>
              </div>
            </details>
          </div>
        </div>
      </div>


      <div class="test">
        <h2>No <code>alt</code>, but <code>aria-label</code> with empty string</h2>
        <div class="test__case">
<img src="https://placekitten.com/240/240"
width="200" height="200" aria-label=""  title="title 5">
        </div>
        <div class="test__info">
          <div class="test__info__results">
            <details open>
              <summary>results</summary>
              <div>
                <p>Image should have name of "title 5".</p>
                <ul>
                  <!-- Windows -->
                  <li class="pass"><strong>Chrome:</strong> pass.</li>
                  <li class="pass"><strong>Firefox:</strong> pass.</li>

                  <!-- macOS/iOS -->
                  <li class="pass"><strong>macOS Safari:</strong> pass.</li>
                  <li class="pass"><strong>macOS Chrome:</strong> pass.</li>
                  <li class="pass"><strong>iOS Safari:</strong> pass.</li>

                  <!-- Android -->
                  <li class="pass"><strong>Android Chrome:</strong> pass.</li>
                  <li class="pass"><strong>Android Firefox:</strong> pass.</li>
                </ul>
              </div>
            </details>
          </div>
        </div>
      </div>


      <script>
        var check = document.getElementById('show');
        var tests = document.querySelectorAll('img');
        // reset on page refresh just in case
        check.checked = false;

        check.addEventListener('change', function () {
          for ( var i = 0; i < tests.length; i++ ) {
            if ( check.checked === true ) {
              tests[i].classList.add('test-size');
            }
            else {
              tests[i].classList.remove('test-size');
            }
          }
        });
      </script>
      <script src="../-assets/shared.js"></script>
    </div>
  </body>
</html>
